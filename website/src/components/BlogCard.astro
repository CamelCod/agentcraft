---
import type { BlogPost } from '../lib/types';

export interface Props {
  post: BlogPost;
}

const { post } = Astro.props;
const base = import.meta.env.BASE_URL;
---

<article class="card">
  {post.featuredImage && (
    <img 
      src={post.featuredImage} 
      alt={post.title}
      class="w-full h-48 object-cover"
    />
  )}
  
  <div class="p-6">
    <div class="flex flex-wrap gap-2 mb-3">
      {post.tags.slice(0, 2).map(tag => (
        <span class="px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium">
          {tag}
        </span>
      ))}
    </div>
    
    <h3 class="text-xl font-bold mb-2 line-clamp-2">
      <a href={`${base}blog/${post.slug}`} class="hover:text-primary-600 transition-colors">
        {post.title}
      </a>
    </h3>
    
    <p class="text-gray-600 mb-4 line-clamp-3">{post.excerpt}</p>
    
    <div class="flex items-center justify-between text-sm text-gray-500">
      <span>{post.author}</span>
      <time datetime={post.publishedDate || ''}>
        {post.publishedDate ? new Date(post.publishedDate).toLocaleDateString('en-US', {
          month: 'short',
          day: 'numeric',
          year: 'numeric'
        }) : ''}
      </time>
    </div>
  </div>
</article>
