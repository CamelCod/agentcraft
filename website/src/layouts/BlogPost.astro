---
import BaseLayout from './BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import NewsletterSignup from '../components/NewsletterSignup.astro';
import type { BlogPost } from '../lib/types';

export interface Props {
  post: BlogPost;
}

const { post } = Astro.props;
---

<BaseLayout 
  title={`${post.title} | AgentCraft Blog`}
  description={post.seoDescription || post.excerpt}
  image={post.featuredImage}
  article={true}
>
  <Header />
  
  <main class="min-h-screen">
    <article class="max-w-4xl mx-auto px-4 py-12">
      <!-- Featured Image -->
      {post.featuredImage && (
        <img 
          src={post.featuredImage} 
          alt={post.title}
          class="w-full h-64 md:h-96 object-cover rounded-lg mb-8"
        />
      )}
      
      <!-- Article Header -->
      <header class="mb-8">
        <div class="flex flex-wrap gap-2 mb-4">
          {post.tags.map(tag => (
            <span class="px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium">
              {tag}
            </span>
          ))}
        </div>
        
        <h1 class="text-4xl md:text-5xl font-bold mb-4">{post.title}</h1>
        
        <div class="flex items-center gap-4 text-gray-600">
          <span>{post.author}</span>
          <span>â€¢</span>
          <time datetime={post.publishedDate || ''}>
            {post.publishedDate ? new Date(post.publishedDate).toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            }) : ''}
          </time>
        </div>
      </header>
      
      <!-- Article Content -->
      <div class="prose prose-lg max-w-none">
        <slot />
      </div>
    </article>
    
    <!-- Newsletter Signup -->
    <section class="max-w-4xl mx-auto px-4 py-12">
      <NewsletterSignup />
    </section>
  </main>
  
  <Footer />
</BaseLayout>
